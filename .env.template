# The Vault Endpoint
VAULT_ENDPOINT=http://127.0.0.1:8200
# The Vault Token
VAULT_TOKEN=example-token
# The Key Value Storne Name
VAULT_KV_STORE=kv-secret
# --- Single-file mode (backward compatible) ---
# The path for the secret (relative to VAULT_KV_STORE)
VAULT_SECRET_PATH=my-secret
# Host directory to bind to /secrets in the container. The injector writes to /secrets/secrets.env by default.
TARGET_HOST_DIR="./secrets"
# Optional: override the single target file name (default is /secrets/secrets.env)
# SECRETS_FILE_PATH=/secrets/custom.env
# If using docker-compose-single.yml (single-file bind), set TARGET_HOST_FILE instead of TARGET_HOST_DIR
# TARGET_HOST_FILE="./secrets.env"

# --- Multi-file mode ---
# To use multi-file mode, set TARGET_HOST_DIR to a directory on the host and use one of
# the following ways to declare mappings from secret paths to target files:
# 1) A single comma-separated list in VAULT_SECRET_MAPPINGS with entries of the form
#    "<secretPathRelativeToKV>:/secrets/<fileName>.env"
#    Example:
# VAULT_SECRET_MAPPINGS="service/app1:/secrets/app1.env,service/app2:/secrets/app2.env"
#
# 2) Or enumerated pairs VAULT_SECRET_PATH_<n> with TARGET_HOST_FILE_<n> (n = 1..N)
#    Examples:
# VAULT_SECRET_PATH_1=service/app1
# TARGET_HOST_FILE_1=/secrets/app1.env
# VAULT_SECRET_PATH_2=service/app2
# TARGET_HOST_FILE_2=/secrets/app2.env
#
# When using multi-file mode, ensure TARGET_HOST_DIR points to a host directory that will be mounted at /secrets.
# All target files must be inside /secrets (absolute or relative paths under /secrets).
# The Interval in which the injector will check for secrets updates (Note: You can use the time formats: s,m,h,d)
SECRETS_CHECK_INTERVAL=5s
# The Interval in which the injector will check if the token is about to expire (Note: You can use the time formats: s,m,h,d)
TOKEN_CHECK_INTERVAL=12h
# The minimum threshold in which the token TTL is allowed to be (It should be more than the TOKEN_CHECK_INTERVAL) (Note: You can use the time formats: s,m,h,d)
TOKEN_RENEW_THRESHOLD=25d